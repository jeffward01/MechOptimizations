<section class="details pull-left clearfix">
    <section class="license-overview shadow">
        <section class="license-header">
            <span class="priority-report">
                <input type="checkbox" securitydisable actions="ProductPriorityReport" ng-model="productDetail.mechsPriority" ng-click="updateProductPriority(productDetail.id, productDetail.mechsPriority)" /><label>Priority Report</label>
            </span>
            <span class="product-icon"></span>
            <h2><span ng-bind="productDetail.title"></span></h2>
            <h3><span ng-bind="productDetail.artist.name"></span></h3>
            <!--<pre>{{productOverviewRates | json }}</pre>-->
            <!--<pre>{{organizedRatesByConfiguration | json}}</pre>-->
            <!--<pre>{{productOverview_Original | json}}</pre>
            <pre>{{productDetail | json}}</pre>
            <pre>{{configurationFilters | json}}</pre>-->
        </section><!-- End License Header -->
        <!--
            }).state("SearchMyView.Tabs.ProductsTab.StepsModal.CreateProduct", {
                parent: 'SearchMyView.Tabs.ProductsTab.StepsModal',
                data:
                {
                    displayName: 'Create Product',
        //            controller: "productInfoController"
                }, params: { licenseData: null, products: null, productId: null },
                views:
                {
                    "modalView@":
                    {
                        templateUrl: "/app/views/partials/modal-step-ProductInfo.html",
                        controller: "productInfoController"
                    }
                }
            }).state("SearchMyView.Tabs.ProductsTab.StepsModal.CreateProductAddTracks", {

                        <button class="btn btn-default" ng-show="buttons.editLicense" ui-sref="SearchMyView.DetailLicense.StepsModal.EditLicense({licenseData:licenseDetail, actionId:2, products:products})"><span class="icon edit-license"></span>Edit License</button>

                -->
        <section class="license-info">
            <section>
                <button class="btn btn-default" security actions="ProductEdit" ui-sref="SearchMyView.DetailProduct.StepsModal.EditProduct({licenseData:licenseDetail, productId: productDetail.id, products:products})"><span class="icon edit-license"></span>Edit Product</button>
                <button class="btn btn-default" security actions="ProductCreate" ui-sref="SearchMyView.DetailProduct.StepsModal.CreateProduct({licenseData:licenseDetail, products:products})"><span class="icon create-license"></span>Create Product</button>
                <button class="btn btn-default" security actions="ProductEditConfigs" ui-sref="SearchMyView.DetailProduct.StepsModal.EditProduct({licenseData:licenseDetail, productId: productDetail.id, products:products})"><span class="icon edit-configurations"></span>Edit Configs</button>
                <button class="btn btn-default" security actions="ProductAddTracks" ui-sref="SearchMyView.DetailProduct.StepsModal.CreateProductAddTracks({licenseData:licenseDetail, productId: productDetail.id, products:products})"><span class="icon edit-configurations"></span>Add Tracks</button>
                <button class="btn btn-default" security actions="ProductCreate" ui-sref="SearchMyView.DetailProduct.StepsModal.CreateLicense({products:productsForCreateLicense})"><span class="icon create-license"></span>Create License</button>
                <!--
                <button class="btn btn-default" ng-click="openProductInfo('lg')"><span class="icon edit-license"></span>Edit Product</button>
                <button class="btn btn-default"><span class="icon create-license"></span>Create Product</button>
                <button class="btn btn-default"><span class="icon edit-configurations"></span>Edit Configs</button>
                <button class="btn btn-default" ng-click="openAddTracks('lg')"><span class="icon edit-configurations"></span>Add Tracks</button>
                -->
            </section>
            <ul>
                <li><label>Label</label><span ng-bind="productDetail.recordLabel.name"></span></li>
                <li><label>Soundscan Sales</label><span ng-bind="productDetail.soundscanSales | number"><!-- IF there is a SoundScan number available --></span></li>
                <li><label>Label Group</label><span ng-repeat="labelGroup in productDetail.recordLabel.recordLabelGroups"><span ng-bind="labelGroup.name"></span></span></li>
            </ul>
        </section>

        <section class="license-configurations shadow">
            <!-- Put this table in a directive -->

            <table class="table fixed_headers" sticky-headers="productDetail.configurations">
                <thead>
                    <tr style="width: 100%">

                        <th class="twentyfive-percent">Configurations</th>
                        <th class="twentyfive-percent">UPC</th>

                        <!--<th class="twenty-percent">Catalog #</th>-->
                        <th class="centered five-percent" style="width: 5%">Unlicensed</th>
                        <th class="centered five-percent" style="width: 5%">Licensed</th>
                        <th class="centered five-percent" style="width: 5%">Total Comp</th>
                        <th class="centered five-percent" style="width: 5%">Released</th>
                    </tr>
                </thead>
                <!-- | licenseProductConfigs:configurationFilters -->
                <!--<tbody ng-repeat="config in ExtractedWriterList | onlyThese:configurationFilters track by $index">-->
                <tbody>
                    <!--<tr style="width: 100%" ng-repeat="rate in ExtractedWriterListSummary | unique: 'upc'">-->
                    <!--<tr style="width: 100%" ng-repeat="rate in productDetail.configurations ">-->
                    <!--<tr style="width: 100%" ng-repeat="rate in productDetail.configurations | licenseProductConfigs:configurationFilters track by $index">-->
                    <tr style="width: 100%" ng-repeat="rate in configurationFilters track by $index" ng-show="configurationFilters.length > 0 ">
                        <!-- Jeff removed UNique filter 8/3/16 -->
                        <td>
                            <span class="icon config-physical" ng-class="rate.configuration_id | returnConfigurationIcon"></span><span ng-bind="rate.configuration_name"></span>
                        </td>
                        <td> <span ng-bind="rate.upc_code"></span></td>

                        <!--<td class="centered"><span ng-bind="rate.notLicensedAmount | number:4"></span>&nbsp;</td>-->
                        <td class="centered"><span ng-bind="rate.totalAmount/100 - rate.licensedAmount/100 | number:4"></span>&nbsp;</td>
                        <td class="centered">{{rate.licensedAmount/100 | number:4}}</td>
                        <td class="centered">{{rate.totalAmount/100 | number:4}}</td>
                        <td class="centered"><span ng-bind="rate.releaseDate | timezone | date:'MM/dd/yyyy'"></span></td>
                    </tr>
                    <tr style="width: 100%" ng-show="configurationFilters.length === 0">
                        <td style="width: 20%"></td>
                        <td style="width: 20%"></td>
                        <td colspan="2"><span class="centered" style="white-space: nowrap">This product has no configurations</span></td>
                        <td style="width: 20%"></td>
                        <td style="width: 20%"></td>
                    </tr>   
                </tbody>
            </table>
        </section><!-- End Product Configurations -->
    </section><!-- End Product Overview -->

    <tabset class="license-content clearfix">
        <tab heading="Product Content">

            <section class="clearfix">

                <button class="btn btn-default pull-right collapseAllWriterProductBtn" ng-show="publishersClosed" ng-click="toggleCollapseAllPublishers()" ng-hide="disableExpandAllPublishersButton"><span class="icon add"></span>Expand All Publishers</button>
                <button class="btn btn-default pull-right collapseAllWriterProductBtn" ng-show="!publishersClosed" ng-click="toggleCollapseAllPublishers()" ng-hide="disableExpandAllPublishersButton"><span class="icon remove"></span>Collapse All Publishers</button>

                <div class="productBtn">
                    <button class="btn btn-default pull-right collapseAllWriterProductBtn writerExpandBtn" ng-show="writersClosed" ng-click="ToggleWritersBootstrap()"><span class="icon add"></span>Expand All Writers</button>
                    <button class="btn btn-default pull-right collapseAllWriterProductBtn writerExpandBtn" ng-show="!writersClosed" ng-click="ToggleWritersBootstrap()"><span class="icon remove"></span>Collapse All Writers</button>
                </div>

                <div class="btn-group pull-right" dropdown>

                    <div class="dropdown dropdown-btn filterConfigBtn" id="writerConfigDropDown  margin-left-minus-5">
                        <button type="button" class="dropdown-toggle btn btn-default pull-left configFilterBtn margin-right-10" id="dLabel" data-toggle="dropdown" ng-click="isSelectConfigCollapsed=!isSelectConfigCollapsed" ng-blur="isSelectConfigCollapsed = true">
                            <span ng-hide="allSelected">Configuration Filters</span><span ng-show="allSelected">All Configurations</span><span class="{{setCaret(isSelectConfigCollapsed)}}"></span>

                            <!--<span ng-if="selectedWriterFilter.Name == null"><span>Select Writer Filter</span><span class="{{setCaret(isSelectConfigCollapsed)}}"></span></span>-->
                        </button>

                        <ul class="dropdown-menu" aria-labelledby="dLabel">
                            <!--<li>
                                <a>
                                    <input type="checkbox" ng-model="allSelected" ng-click="$event.stopPropagation();toggleAll()" />
                                    <span ng-show="allSelected">All Selected</span>
                                    <span ng-hide="allSelected">Select All</span>
                                </a>
                            </li>-->
                            <!--<li ng-repeat="config in configurationFilters | orderBy:['id'] track by $index"> Original, not used
                                <!--<a><input ng-click="$event.stopPropagation();cbChecked();isSelectConfigCollapsed = false" type="checkbox" id="{{config.id}}" ng-model="config.checked" /><span ng-click="$event.stopPropagation()"><span ng-if="config.configuration.name != null" class="icon config-physical" ng-class="config.configuration.id | returnConfigurationIcon"></span>&nbsp;<span ng-bind="config.configuration.name"></span><span ng-if="config.upc != null">&nbsp;({{config.upc}})&nbsp;</span></span></a>-->
                            <!--</li>-->

                            <li ng-repeat="config in configurationFilters | orderBy:['id'] track by $index">
                                <a><input ng-click="$event.stopPropagation();cbChecked();isSelectConfigCollapsed = false" type="checkbox" id="{{config.id}}" ng-model="config.checked" /><span ng-click="$event.stopPropagation()"><span ng-if="config.configuration_name != null" class="icon config-physical" ng-class="config.configuration_id | returnConfigurationIcon"></span>&nbsp;<span ng-bind="config.configuration_name"></span><span ng-if="config.upc_code != null">&nbsp;({{config.upc_code}})&nbsp;</span></span></a>
                            </li>
                        </ul>
                    </div>

                    <div class="dropdown dropdown-btn" style="display: inline-block" id="writerFilterDropDown">
                        <button type="button" class="dropdown-toggle btn btn-default margin-right-10 margin-left-10" id="aLabel" data-toggle="dropdown" ng-click="isSelectWritersCollapsed=!isSelectWritersCollapsed" ng-blur="isSelectWritersCollapsed = true">
                            <span ng-if="selectedWriterFilter.Name.length > 3"><span ng-bind="selectedWriterFilter.Name"></span><span class="{{setCaret(isSelectWritersCollapsed)}}"></span></span>
                            <span ng-if="selectedWriterFilter.Name == null"><span>Select Writer Filter</span><span class="{{setCaret(isSelectWritersCollapsed)}}"></span></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="aLabel">
                            <li ng-repeat="writerFilter in writerFilters | orderBy:['Id'] track by $index" ng-click="updateWriters();selectWriterFilter(writerFilter);isSelectWritersCollapsed=true;">
                                <a href=""><span ng-bind="writerFilter.Name"></span></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="btn-group pull-right">

                    <div class="dropdown dropdown-btn" style="display: inline-block" id="viewFilterDropdown">
                        <button type="button" class="dropdown-toggle btn btn-default margin-right-10 margin-left-10" id="viewFilterDropdownBtn" data-toggle="dropdown" ng-click="isSelectViewsCollapsed=!isSelectViewsCollapsed" ng-blur="isSelectViewsCollapsed = true">
                            <span ng-if="selectedViewFilter.Name.length > 3"><span ng-bind="selectedViewFilter.Name"></span><span class="{{setCaret(isSelectViewsCollapsed)}}"></span></span>
                            <span ng-if="selectedViewFilter.Name == null"><span>Select View Filter</span><span class="{{setCaret(isSelectViewsCollapsed)}}"></span></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="aLabel">
                            <li ng-repeat="viewFilter in viewFilters | orderBy:['Id'] track by $index" ng-click="selectViewFilter(viewFilter);isSelectViewsCollapsed=true;">
                                <a href=""><span ng-bind="viewFilter.Name"></span></a>
                            </li>
                        </ul>
                    </div>

                    <!--<div class="dropdown dropdown-btn filterConfigBtn" id="writerConfigDropDown  " style="margin-right: 1px">
                        <button type="button" class="dropdown-toggle btn btn-default pull-left configFilterBtn margin-right-10" id="dLabel" data-toggle="dropdown" ng-click="allStatuses=!allStatuses">
                            <span ng-hide="allStatuses">All Statuses Shown</span><span ng-show="allStatuses">Executed Only</span>
                        </button>
                    </div>
                    <div class="dropdown dropdown-btn filterConfigBtn" id="writerConfigDropDown  " style="margin-right: 1px">
                        <button type="button" class="dropdown-toggle btn btn-default pull-left configFilterBtn margin-right-10" id="dLabel" data-toggle="dropdown" ng-click="mostRecentOnly=!mostRecentOnly">
                            <span ng-hide="mostRecentOnly">Not Filtered by Most Recent</span><span ng-show="mostRecentOnly">Most Recent Only</span>
                        </button>
                    </div>-->
                    <div class="dropdown dropdown-btn filterConfigBtn" id="writerConfigDropDown  margin-left-minus-5" ng-hide="disableRateZeroButton">
                        <button type="button" class="dropdown-toggle btn btn-default pull-left configFilterBtn margin-right-10" id="dLabel" data-toggle="dropdown" ng-click="showZeros=!showZeros">
                            <span ng-show="showZeros">All Rates Shown</span><span ng-hide="showZeros">Rate w/ Zero Hidden</span>
                        </button>
                    </div>
                </div>

                <!--<div class="inline-flex configBadge clearfix margin-right-10">  Original, not used
                    <ul class="applied-filters-config " ng-repeat="configuration in configurationFilters | filter:{checked: true}">
                        <li class="filter-wrapper">
                            <span class="filter-item">  <span ng-bind="configuration.configuration.name"></span>&nbsp;<span ng-show="configuration.upc != null">(<span ng-bind="configuration.upc"></span>)</span><span class="icon icon-sm remove" ng-click="configuration.checked = false;cbChecked();"></span></span>
                        </li>
                    </ul>
                </div>-->

                <div class="inline-flex configBadge clearfix margin-right-10">
                    <ul class="applied-filters-config " ng-repeat="configuration in configurationFilters | filter:{checked: true}">
                        <li class="filter-wrapper">
                            <span class="filter-item">  <span ng-bind="configuration.configuration_name"></span>&nbsp;<span ng-show="configuration.upc_code != null">(<span ng-bind="configuration.upc_code"></span>)</span><span class="icon icon-sm remove" ng-click="configuration.checked = false;cbChecked();"></span></span>
                        </li>
                    </ul>
                </div>

                <!--<pre>{{configurationFilters | json}}</pre>
                <
                <!--<div ng-repeat="configuration in configurationFilters | filter:{checked: true}"> Modal-EditRates.html
                    <ul class="applied-filters">
                        <li class="filter-wrapper"><span class="filter-item"><span ng-if="configuration.configuration.name != null" class="icon config-physical" ng-class="configuration.configuration.id | returnConfigurationIcon"></span>&nbsp;<span ng-bind="configuration.configuration.name"></span>&nbsp;<span ng-show="configuration.upc != null">(<span ng-bind="configuration.upc"></span>)</span><span class="icon icon-sm remove" ng-click="$event.stopPropagation();cbChecked();isSelectConfigCollapsed = false"></span></span></li>
                    </ul>
                </div>

                <ul class="applied-filters">
                    <li><label>Selected:</label> </li>

                    <li class="filter-wrapper" ng-if="selectedConfigurations.length != 0">Configuration(s)<span class="filter-item" ng-repeat="configuration in configurationFilters | filter:{checked: true}"><span ng-bind="configuration.configuration.name"></span>&nbsp;<span ng-show="configuration.upc != null">(<span ng-bind="configuration.upc"></span>)</span><span class="icon icon-sm remove" ng-click="unselectConfiguration(configuration);$event.preventDefault()"></span></span></li>
                </ul>-->
                <!--<pre>{{productOverview | json}}</pre>-->
            </section>

            <!--<pre>{{configurationFilters | json}}</pre>
            <pre>All Selected: {{allSelected | json}}</pre>-->

            <table class="table">
                <thead>
                    <tr>

                        <th class="twenty-percent">Product Title</th>
                        <th class="twenty-percent">Artist</th>
                        <th class="five-percent">Tracks</th>
                        <th class="ten-percent">Label</th>
                        <th class="twenty-percent">Configuration (UPC)</th>
                        <th class="five-percent text-center">Licensed</th>
                        <th class="five-percent text-center">Paid Qtr</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="twenty-percent"><a><span ng-bind="productDetail.title"></span></a></td>
                        <td class="twenty-percent"><span ng-bind="productDetail.artist.name"></span></td>
                        <td class="five-percent"><button class="btn-default" ng-disabled="productDetail.recordings.length == 0" ng-click="toggleCollapseTracks()">{{productDetail.recordings.length}}<span class="{{setCaret(trackCollapsed)}}"></span></button></td>
                        <td class="ten-percent"><span ng-bind="productDetail.recordLabel.name"></span></td>
                        <td class="twenty-percent"><span ng-repeat="config in productDetail.configurations | licenseProductConfigs:configurationFilters"><span ng-if="config.configuration.name != null" class="icon config-physical" ng-class="config.configuration.id | returnConfigurationIcon"></span>&nbsp;<span ng-bind="config.configuration.name"></span><span ng-if="config.upc != null && config.upc.length>0">&nbsp;({{config.upc}})&nbsp;</span> </span></td>   <!--CD (8564781841415656)-->
                        <td class="five-percent text-center licensed">
                            <span ng-show="showToDOM">
                                <span ng-if="productDetail.productTotalLicenseLiteral=='Licensed'" class="badge success">Licensed</span>
                                <span ng-if="productDetail.productTotalLicenseLiteral=='Partial'" class="badge warning">Partial</span>
                                <span ng-if="productDetail.productTotalLicenseLiteral=='None'" class="badge none">Unlicensed</span>
                                <span ng-if="productDetail.productTotalLicenseLiteral==''" class="none"></span>
                            </span>
                        </td>
                        <td class="five-percent text-center">{{productPaidQuarter}}</td>
                    </tr>
                </tbody>
            </table>

            <div>
                <div>

                    <table class="table" ng-show="!trackCollapsed" elem-Ready="init()">
                        <thead>
                            <tr>
                                <th class="one-percent centered">Vol. / Track</th>
                                <th class="twentyeight-percent">Title</th>
                                <th></th>
                                <th class="twentyfive-percent">Artist</th>
                                <th class="five-percent">Writers</th>
                                <th class="five-percent">Length</th>
                                <th class="five-percent">UMPG %</th>
                                <th class="five-percent">PIPS #</th>
                                <th class="fifteen-percent">ISRC</th>
                                <th class="five-percent  text-center">Licensed</th>
                                <th class="five-percent">Paid Qtr</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat-start="recording in productDetail.recordings">
                                <td class="one-percent centered"><span> {{recording.cdNumber}}-{{recording.index}}</span></td>
                                <td class="twentyeight-percent top">
                                    <span class="bold-font" ng-bind="recording.track.title"></span>
                                    <!-- IF Contains Sample || I made up the names for sampled.recording.track.title and sampled.recording.track.artist.name below || -->
                                    <br ng-if="recording.hasSample"><br />
                                    <span ng-if="recording.hasSample">
                                        (Contains sample(s) of
                                        <span ng-repeat="sample in recording.track.copyrights[0].sampledWorks" class="sample-track">
                                            "<span ng-bind="sample.title"></span>"<span ng-if="!$last">, </span>
                                        </span>
                                        )
                                    </span>
                                </td>
                                <td>
                                    <span ng-if="recording.hasSample" class="badge sample pull-right">SAMPLE</span>
                                </td>

                                <td class="twentyfive-percent top"><span ng-bind="recording.track.artist.name"></span></td>
                                <td class="five-percent top"><button class="btn-default" ng-disabled="recording.filteredWriterCount == 0" ng-click="collapseWriters(recording)" data-target="#collapseTableThree"><span>{{recording.filteredWriterCount}}</span><span class="{{setCaret(recording.writersCollapsed)}}"></span></button></td>
                                <td class="five-percent top"><span ng-bind="recording.track.duration | limitTo:-5"></span></td>
                                <td class="five-percent top"><span ng-bind="recording.umpgPercentageRollup | percentage:2"></span></td>
                                <td class="five-percent top"><span ng-repeat="copyright in recording.track.copyrights"><span ng-bind="copyright.workCode"></span><br /></span></td>
                                <td class="fifteen-percent top"><span ng-bind="recording.track.isrc"></span></td>
                                <td class="five-percent top text-center licensed">
                                    <span ng-show="showToDOM">
                                        <span ng-if="recording.licenseLiteral=='Licensed'" class="badge success">Licensed</span>
                                        <span ng-if="recording.licenseLiteral=='Partial'" class="badge warning">Partial</span>
                                        <span ng-if="recording.licenseLiteral=='None'" class="badge none">Unlicensed</span>
                                    </span>
                                </td>
                                <td class="five-percent top text-center">{{recording.paidQtr}}</td>
                            </tr>
                            <tr ng-repeat-end>

                                <td class="table-cell-light collapse" id="{{recording.id}}" colspan="12">

                                    <table class="table nested">
                                        <thead>
                                            <tr>
                                                <th class="ten-percent-percent">Writer </th>
                                                <th class="ten-percent centered">Publisher</th>
                                                <th class="fifteen-percent centered">Capacity</th>
                                                <th class="ten-percent">Collectible %</th>
                                                <th ng-if="recording.executedSplitPresent" class="ten-percent centered">Executed Collectable %</th>
                                                <th class="ten-percent centered">Affiliation</th>
                                                <th class="ten-percent">CAE / IPI</th>
                                                <th class="twenty-percent">Recent Writer Note</th>
                                                <!--<th class="five-percent"></th>
                                                <th class="five-percent"></th>-->
                                            </tr>
                                        </thead>
                                        <tbody ng-repeat="writer in recording.writers | filter: writerFilter">
                                            <tr class="details-writer-row" ng-style="{{writerBackground(writer.controlled)}}">

                                                <td class="ten-percent top"><span ng-bind="writer.name"></span></td>
                                                <td class="ten-percent centered top">
                                                    <button class="btn-default" ng-disabled="writer.originalPublishers.length == 0" ng-click="collapsePublishers(writer)"><span ng-bind="writer.originalPublishers.length"></span><span class="{{setCaret(writer.publishersCollapsed)}}"></span></button>
                                                </td>
                                                <td class="fifteen-percent centered top"><span ng-bind="writer.capacityCode"></span></td>

                                                <!-- Collectable -->
                                                <td class="ten-percent">
                                                    <!--<span ng-bind="writer.contribution |  percentage:2"></span>-->
                                                    <!--<!== Override ==>-->
                                                    <span ng-if="writer.licenseProductRecordingWriter.splitOverride >= 0 && writer.licenseProductRecordingWriter.splitOverride !=null" class="strike-through">
                                                        <span ng-bind="ToPercent(writer.contribution)"></span>
                                                    </span>
                                                    <span ng-if="writer.licenseProductRecordingWriter.splitOverride >= 0 && writer.licenseProductRecordingWriter.splitOverride !=null" class="override"> <span ng-bind="ToPercent(writer.licenseProductRecordingWriter.splitOverride)"></span></span>
                                                    <!--<!== No Override ==>-->
                                                    <span ng-if="writer.licenseProductRecordingWriter.splitOverride==null"> <span ng-bind="ToPercent(writer.contribution)"></span></span>
                                                </td>

                                                <td class="ten-percent centered" ng-if="recording.executedSplitPresent">
                                                    <span ng-if="writer.licenseProductRecordingWriter.executedSplit >= 0 && writer.licenseProductRecordingWriter.executedSplit != null" ng-bind="ToPercent(writer.licenseProductRecordingWriter.executedSplit)"></span>
                                                    <span ng-if="writer.licenseProductRecordingWriter.executedSplit == undefined || writer.licenseProductRecordingWriter.executedSplit == null">0.00%</span>
                                                </td>
                                                <td class="ten-percent centered top"><span ng-bind="writer.affiliationsString"></span></td>
                                                <td class="ten-percent top"><span ng-bind="writer.caeNumber"></span></td>

                                                <td class="twenty-percent"><span><span>{{writer.mostRecentNote}}</span></span></td>
                                                <!--<td class="five-percent top"></td>
                                                <td class="five-percent top"></td>-->
                                            </tr>

                                            <!-- If Publishers is expanded -->
                                            <tr ng-show="!writer.publishersCollapsed" ng-repeat-start="publisher in writer.originalPublishers" ng-class="{'publisher-highlit':!publisher.hasCollectable}">
                                                <!-- If there's Publisher info -->
                                                <td class="publisher twenty-percent" colspan="2"><span ng-bind="publisher.name"></span><!-- Publisher Name --></td>
                                                <td class="fifteen-percent centered top"><span ng-bind="publisher.capacityCode"></span><!-- Publisher Capacity Code --></td>
                                                <td class="fifteen-percent top"><span ng-bind="publisher.mechanicalCollectablePercentage"></span><!-- Publisher Contribution --></td>
                                                <td class="fifteen-percent centered top"><span ng-bind="publisher.affiliationsString"></span><!-- Publisher Affiliation --></td>
                                                <td class="ten-percent top"><span ng-bind="publisher.caeNumber"></span><!-- Publisher CAE Code --></td>
                                                <td class="twenty-percent top"></td> <!--Spacer-->
                                            </tr>
                                            <tr ng-show="!writer.publishersCollapsed" ng-repeat="admin in publisher.administrators" ng-class="{'publisher-highlit':!publisher.hasCollectable}">
                                                <!-- If there's Sub-Publisher / Admin Company info -->
                                                <td class="admin-company twenty-percent" colspan="2"><span ng-bind="admin.name"></span><!-- Sub-Publisher Name --></td>
                                                <td class="fifteen-percent centered top"><span ng-bind="admin.capacityCode"></span><!-- Sub-Publisher Capacity Code --></td>
                                                <td class="fifteen-percent top"><span ng-bind="admin.mechanicalCollectablePercentage"></span><!-- Sub-Publisher Contribution --></td>
                                                <td class="fifteen-percent centered top"><span ng-bind="admin.affiliationsString"></span><!-- Sub-Publisher Affiliation --></td>
                                                <td class="ten-percent top"><span ng-bind="admin.caeNumber"></span><!-- Sub-Publisher CAE Code --></td>
                                                <td class="twenty-percent top"></td> <!--Spacer-->
                                            </tr>
                                            <tr ng-show="false" ng-repeat-end="">
                                                <!-- If there's Sub-Publisher / Admin Company info -->
                                                <td class="admin-company fortyfive-percent" colspan="2"><!-- Sub-Publisher Name --></td>
                                                <td class="ten-percent centered top"><!-- Sub-Publisher Capacity Code --></td>
                                                <td class="fifteen-percent top"><!-- Sub-Publisher Contribution --></td>
                                                <td class="fifteen-percent centered top"><!-- Sub-Publisher Affiliation --></td>
                                                <td class="ten-percent top"><!-- Sub-Publisher CAE Code --></td>
                                                <td class="twenty-percent top"></td> <!--Spacer-->
                                            </tr>
                                            <!-- END If Publishers is expanded -->

                                            <tr>
                                                <td colspan="12" class="nested light shadow">

                                                    <!-- Insert Writer Table directive here -->
                                                    <!--<product-detail organizedRatesByConfiguration="organizedRatesByConfiguration"></product-detail>-->
                                                    <table class="table nested light">
                                                        <thead>

                                                            <tr>
                                                                <th style="color: black" class="one-percent no-wrap">License #</th>
                                                                <th style="color: black" class="one-percent no-wrap">License Title</th>
                                                                <th style="color: black" class="fifteen-percent"> <span>Configuration (UPC)</span></th>
                                                                <th style="color: black" class="one-percent">Consent</th>
                                                                <th style="color: black" class="fifteen-percent no-wrap centered">Writer Status</th>
                                                                <th style="color: black" class="five-percent centered">License Status</th>
                                                                <th style="color: black" class="fifteen-percent centered">Rate Type</th>
                                                                <th style="color: black" class="ten-percent centered" ng-show="writer.escalatedThresholdRateVis">Threshold</th>
                                                                <th style="color: black" class="five-percent centered" ng-show="writer.thresholdRate">Rate</th>
                                                                <th style="color: black" class="five-percent">Pro-Rata Rate</th>
                                                                <th style="color: black" class="five-percent">Per Song Rate</th>
                                                                <!--<!==Not: NOI, Advice Letter or Gratis==>-->
                                                                <th style="color: black" class="five-percent no-wrap centered">License Date</th>
                                                                <th style="color: black" class="five-percent no-wrap centered">Modified Date</th>
                                                                <!--<!==License NOI type==>-->
                                                                <th style="color: black" class="five-percent no-wrap centered">Paid Qtr</th>
                                                            </tr>
                                                        </thead>
                                                        <!--| mostRecentOnly:mostRecentOnly:licenseTitles-->
                                                        <!-- This view is for all/Executed -->
                                                        <tbody ng-repeat="rateConfiguration in organizedRatesByConfiguration track by $index" ng-hide="mostRecentOnly || (allStatuses === false && writer.writerEARatesCount === 0)">
                                                            <tr ng-repeat="rate in rateConfiguration.rates | caeCodefilter:writer | trackIdFilter:recording.track.id | executedFilter:allStatuses | zeroFilter:showZeros | checkedOnly:configurationFilters track by $index " ng-class="{noBorder: $index >= 1}">

                                                                <!-- License Number -->
                                                                <td class="one-percent no-wrap centered"><span ng-hide="$index > 0 ">{{rate.licenseNumber}}</span></td>
                                                                <!-- License Title -->
                                                                <td class="one-percent no-wrap">

                                                                    <a ng-hide="$index > 0 " href="#/search-MyView/detail-License/{{rate.licenseId}}/ownLicense"><span>{{rate.licenseTitle}}</span><span ng-if="rate.licenseMethod.licenseMethod != null">&nbsp;&nbsp;({{rate.licenseMethod.licenseMethod}})</span></a>
                                                                </td>

                                                                <!-- Configuration UPC -->
                                                                <td class="fifteen-percent">

                                                                    <!--<span><span ng-class="rate.configuration_id | returnConfigurationIcon"></span><span ng-bind="rate.configuration_name"></span><span ng_if="rate.configuration_upc">(<span ng-bind="rate.configuration_upc"></span>)</span></span>-->
                                                                    <span ng-hide="$index > 0 "><span ng-class="rate.configuration_id | returnConfigurationIcon"></span>{{rate.configuration_name}}<span><span ng-if="rate.upc != null">({{rate.upc}})</span></span></span>
                                                                </td>

                                                                <!-- Consent -->
                                                                <td>
                                                                    <span ng-hide="$index > 0 ">
                                                                        <!--<button ng-disabled="!buttons.writerConsentBtn" securitydisable actions="LicenseDetailWriterConsent" class="btn btn-default btn-sm" data-toggle="modal" ui-sref="SearchMyView.DetailLicense.StepsModal.WritersConsent({config:rate,files:licenseAttachments,recording:recording,writer:writer,product:product,modalSize:'md' })">
                                                                            <span ng-bind="rate.writersConsentType.writersConsentType"></span>
                                                                        </button>-->
                                                                        {{returnWriterConsentType(rate.writersConsentTypeId)}}
                                                                    </span>
                                                                </td>

                                                                <!-- Writer Status -->
                                                                <!--<td class="fifteen-percent top centered text-center licensed">-->
                                                                <!--    <!--<span ng-show="$index == 0">  From LicenseDetail
                                                                                            <span ng-repeat="status in rateConfiguration.specialStatusrate" class="badge">
                                                                                                <span ng-if="status.lU_SpecialStatuses"><span ng-bind="status.lU_SpecialStatuses.specialStatus"></span></span>
                                                                                                <span ng-if="!status.lU_SpecialStatuses"><span ng-bind="status.specialStatus"></span></span>
                                                                                            </span>
                                                                                        </span>-->
                                                                <!-- This was on product-detail before it was productOverview<span ng-hide="$index > 0 ">
                                                                            <span>
                                                                                <span ng-repeat="status in rate.specialStatusList" class="badge">

                                                                                    <span ng-if="status.lU_SpecialStatuses"><span ng-bind="status.lU_SpecialStatuses.specialStatus"></span></span>
                                                                                    <span ng-if="!status.lU_SpecialStatuses"><span ng-bind="status.specialStatus"></span></span>
                                                                                </span>
                                                                            </span>
                                                                        </span>-->
                                                                <!--</td>-->
                                                                <td class="five-percent top text-center licensed">
                                                                    <span ng-hide="$index > 0 ">

                                                                        <span ng-if="rate.writerRateInclude" class="badge success">Licensed</span>
                                                                        <span ng-if="!rate.writerRateInclude" class="badge none">UnLicensed</span>
                                                                    </span>
                                                                </td>

                                                                <!-- License Status -->
                                                                <td class="fifteen-percent centered status">
                                                                    <span class="status-label" ng-hide="$index > 0 ">
                                                                        <span ng-class="{'status-icon verifying': rate.licenseStatus.licenseStatus=='Verifying', 'status-icon hold': rate.licenseStatus.licenseStatus=='Hold', 'status-icon pending': rate.licenseStatus.licenseStatus=='Pending', 'status-icon executed': rate.licenseStatus.licenseStatus=='Executed', 'status-icon issued': rate.licenseStatus.licenseStatus=='Issued', 'status-icon accepted': rate.licenseStatus.licenseStatus=='Accepted', 'status-icon voided': rate.licenseStatus.licenseStatus=='Voided', 'status-icon error': rate.licenseStatus.licenseStatus=='Error'}">
                                                                        </span>
                                                                        <span ng-bind="rate.licenseStatus.licenseStatus"></span>
                                                                    </span>
                                                                </td>

                                                                <!-- Rate Type -->
                                                                <td class="fifteen-percent centered">
                                                                    <span ng-hide="$index > 0 ">
                                                                        {{returnRateType(rate.rateTypeId)}}
                                                                    </span>
                                                                </td>
                                                                <!-- Threshold -->
                                                                <td class="five-percent centered" ng-show="writer.escalatedThresholdRateVis">
                                                                    <span ng-if="rate.escalatedRate != null">{{rate.escalatedRate}} </span>
                                                                    <span ng-if="rate.escalatedRate == null">N/A </span>
                                                                </td>
                                                                <!-- Rate -->
                                                                <td class="five-percent centered" ng-show="writer.thresholdRate">
                                                                    <!--<span>{{rate.rate | number:3}}</span>-->
                                                                    <span>{{returnNAorDecimal(rate.rate, rate.rateTypeId)}}</span>
                                                                </td>

                                                                <td class="five-percent centered">
                                                                    {{controlDeciamlProRataColumn(rate.proRataRate, returnRateType(rate.rateTypeId)) }}
                                                                </td>
                                                                <!--<td class="five-percent">N/A</td>-->

                                                                <td class="five-percent centered">
                                                                    <span>{{controlDeciamlPerSongRateColumn(rate.perSongRate, returnRateType(rate.rateTypeId)) }}</span>
                                                                </td>

                                                                <td class="five-percent centered">
                                                                    {{rate.licenseDate | timezone | date:"MM/dd/yyyy"}}
                                                                </td>
                                                                <td class="five-percent centered">
                                                                    {{rate.modifiedDate | timezone | date:"MM/dd/yyyy"}}
                                                                </td>

                                                                <td class="five-percent centered">
                                                                    <span>

                                                                        <!--<button ng-disabled="paidQuarterDisabled" securitydisable actions="LicenseDetailsPaidQuarter" class="btn btn-default btn-sm" ui-sref="SearchMyView.DetailLicense.StepsModal.PaidQuarter({licenseId:licenseDetail.licenseId,config:rate,recording:recording,writer:writer,product:product, modalSize:'sm' })">-->
                                                                        <span>{{rate.paidQuarter}}</span>

                                                                        <!--</button>-->
                                                                    </span>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                        <!-- This is for MostRecent -->
                                                        <tbody ng-repeat="array in writer.mostRecentRates track by $index" ng-show="mostRecentOnly">
                                                            <tr ng-repeat="rate in array.rates | checkedOnly:configurationFilters | caeCodefilter:writer track by $index " ng-class="{noBorder: $index >= 1}">
                                                                <!-- License Number -->
                                                                <td class="one-percent no-wrap centered"><span ng-hide="$index > 0 ">{{rate.licenseNumber}}</span></td>
                                                                <!-- License -->
                                                                <td class="one-percent no-wrap">

                                                                    <a ng-hide="$index > 0 " href="#/search-MyView/detail-License/{{rate.licenseId}}/ownLicense"><span>{{rate.licenseTitle}}</span><span ng-if="rate.licenseMethod.licenseMethod != null">&nbsp;&nbsp;({{rate.licenseMethod.licenseMethod}})</span></a>

                                                                    <!--<span>LicenseID:&nbsp;{{rate.licenseId}}</span>
                                                                    <span>licenseWriterRateId:&nbsp;{{rate.licenseWriterRateId}}</span>
                                                                    <span>licenseWriterId:&nbsp;{{rate.licenseWriterId}}</span>
                                                                    <span>trackId:&nbsp;{{rate.trackId}}</span>-->
                                                                    <!--<span ng-hide="$index > 0 " >rate: {{$index}}  ||  rateConfigIndex {{$parent.$index}}</span>-->
                                                                </td>

                                                                <!-- Configuration UPC -->
                                                                <td class="fifteen-percent">

                                                                    <!--<span><span ng-class="rate.configuration_id | returnConfigurationIcon"></span><span ng-bind="rate.configuration_name"></span><span ng_if="rate.configuration_upc">(<span ng-bind="rate.configuration_upc"></span>)</span></span>-->
                                                                    <span ng-hide="$index > 0 "><span ng-class="rate.configuration_id | returnConfigurationIcon"></span>{{rate.configuration_name}}<span><span ng-if="rate.upc != null">({{rate.upc}})</span></span></span>
                                                                </td>

                                                                <!-- Consent -->
                                                                <td>
                                                                    <span ng-hide="$index > 0 ">
                                                                        <!--<button ng-disabled="!buttons.writerConsentBtn" securitydisable actions="LicenseDetailWriterConsent" class="btn btn-default btn-sm" data-toggle="modal" ui-sref="SearchMyView.DetailLicense.StepsModal.WritersConsent({config:rate,files:licenseAttachments,recording:recording,writer:writer,product:product,modalSize:'md' })">
                                                                            <span ng-bind="rate.writersConsentType.writersConsentType"></span>
                                                                        </button>-->
                                                                        {{returnWriterConsentType(rate.writersConsentTypeId)}}
                                                                    </span>
                                                                </td>

                                                                <!-- Writer Status -->
                                                                <!--<td class="fifteen-percent top centered">-->
                                                                <!--<span ng-show="$index == 0">  From LicenseDetail
                                                                            <span ng-repeat="status in rateConfiguration.specialStatusrate" class="badge">
                                                                                <span ng-if="status.lU_SpecialStatuses"><span ng-bind="status.lU_SpecialStatuses.specialStatus"></span></span>
                                                                                <span ng-if="!status.lU_SpecialStatuses"><span ng-bind="status.specialStatus"></span></span>
                                                                            </span>
                                                                        </span>-->
                                                                <!--<span ng-hide="$index > 0 ">-->
                                                                <!--<span>
                                                                            <span ng-repeat="status in rate.specialStatusList" class="badge">

                                                                                <span ng-if="status.lU_SpecialStatuses"><span ng-bind="status.lU_SpecialStatuses.specialStatus"></span></span>
                                                                                <span ng-if="!status.lU_SpecialStatuses"><span ng-bind="status.specialStatus"></span></span>
                                                                            </span>
                                                                        </span>
                                                                    </span>
                                                                </td>-->
                                                                <!-- Writer Status -->
                                                                <td class="five-percent top text-center licensed">
                                                                    <span ng-hide="$index > 0 ">
                                                                        <span ng-if="rate.writerRateInclude" class="badge success">Licensed</span>
                                                                        <span ng-if="!rate.writerRateInclude" class="badge none">UnLicensed</span>
                                                                    </span>
                                                                </td>

                                                                <!-- License Status -->
                                                                <td class="fifteen-percent centered status">
                                                                    <!--<span ng-hide="$index > 0 ">

                                                                        <!--{{rate.licenseStatus.licenseStatus}}-->
                                                                    <!--{{rate.licenseStatus.createdDate | timezone | date:'MM/dd/yyyy'}}-->
                                                                    <!--</span>-->
                                                                    <!--<span class="status-label" ng-hide="$index > 0 ">-->
                                                                    <span class="status-label" ng-hide="$index > 0 ">
                                                                        <span ng-class="{'status-icon verifying': rate.licenseStatus.licenseStatus=='Verifying', 'status-icon hold': rate.licenseStatus.licenseStatus=='Hold', 'status-icon pending': rate.licenseStatus.licenseStatus=='Pending', 'status-icon executed': rate.licenseStatus.licenseStatus=='Executed', 'status-icon issued': rate.licenseStatus.licenseStatus=='Issued', 'status-icon accepted': rate.licenseStatus.licenseStatus=='Accepted', 'status-icon voided': rate.licenseStatus.licenseStatus=='Voided', 'status-icon error': rate.licenseStatus.licenseStatus=='Error'}">
                                                                        </span>
                                                                        <span ng-bind="rate.licenseStatus.licenseStatus"></span>
                                                                    </span>
                                                                </td>

                                                                <!-- Rate Type -->
                                                                <td class="fifteen-percent centered">
                                                                    <span ng-hide="$index > 0 ">
                                                                        {{returnRateType(rate.rateTypeId)}}
                                                                    </span>
                                                                </td>
                                                                <!-- Threshold -->
                                                                <td class="five-percent centered" ng-show="writer.thresholdRate">
                                                                    <span ng-if="rate.escalatedRate != null">{{rate.escalatedRate}} </span>
                                                                    <span ng-if="rate.escalatedRate == null">N/A </span>
                                                                </td>
                                                                <!-- Rate -->
                                                                <td class="five-percent centered" ng-show="writer.thresholdRate">
                                                                    <span>{{rate.rate | number:3}}</span>
                                                                </td>

                                                                <td class="five-percent centered">
                                                                    {{rate.proRataRate | number:4}}
                                                                </td>
                                                                <!--<td class="five-percent">N/A</td>-->

                                                                <td class="five-percent centered">
                                                                    <span>{{rate.perSongRate | number:3}}</span>
                                                                </td>

                                                                <td class="five-percent centered">
                                                                    {{rate.licenseDate | timezone | date:"MM/dd/yyyy"}}
                                                                </td>
                                                                <td class="five-percent centered">
                                                                    {{rate.modifiedDate | timezone | date:"MM/dd/yyyy"}}
                                                                </td>

                                                                <td class="five-percent centered">
                                                                    <span>

                                                                        <!--<button ng-disabled="paidQuarterDisabled" securitydisable actions="LicenseDetailsPaidQuarter" class="btn btn-default btn-sm" ui-sref="SearchMyView.DetailLicense.StepsModal.PaidQuarter({licenseId:licenseDetail.licenseId,config:rate,recording:recording,writer:writer,product:product, modalSize:'sm' })">-->
                                                                        <span>{{rate.paidQuarter}}</span>

                                                                        <!--</button>-->
                                                                    </span>
                                                                </td>
                                                            </tr>
                                                        </tbody>

                                                        <!-- This is for if there are no results from Executed/Accepted -->
                                                        <tbody ng-show="writer.writerEARatesCount === 0 && allStatuses == false">
                                                            <tr ng-class="{noBorder: $index >= 1}">
                                                                <td class="one-percent no-wrap centered" colspan="13">
                                                                    <span>No Executed/Accepted Rates Found</span>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                        <!-- This is for if there are no results from AllStatus Shown -->
                                                        <tbody ng-show="writer.writerEARatesCount === 0 && writer.writerMostRecentRateCount === 0 && allStatuses == true">
                                                            <tr>
                                                                <td class="one-percent no-wrap centered" colspan="13">
                                                                    <span>No Rates have been applied to this writer yet</span>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table><!-- END Track Table-->
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </tab>

        <tab heading="Related Licenses">
            <table class="table table-hover grid-license">
                <thead>
                    <tr>
                        <th class="priority"><a href="">Pri</a></th>
                        <th class="assignee"><a href="">Assignee</a></th>
                        <th class="id"><a href="">License #</a></th>
                        <th class="title"><a href="">License Title</a></th>
                        <th class="artists"><a href="">Artists</a></th>
                        <th class="licensee"><a href="">Licensee</a></th>
                        <th class="method"><a href="">Method</a></th>
                        <th class="config"><a href="">Config</a></th>
                        <th class="created-by"><a href="">Created By</a></th>
                        <th class="type"><a href="">Type</a></th>
                        <th class="status"><a href="">Status</a></th>
                        <th class="created-date">Created</th>
                        <th class="modified-date">Modified</th>
                        <th class="signed-date">Signed</th>
                    </tr>
                </thead>
                <tbody ng-repeat="license in licenses">
                    <tr>
                        <td class="priority"><span ng-class="{'priority high':license.priorityId==1,'priority medium':license.priorityId==2,'priority low':license.priorityId==3,'priority inbox':license.priorityId==4}"></span></td>
                        <td class="assignee"><span ng-bind="license.contact.fullName"></span></td>
                        <td class="id"><span ng-bind="license.licenseNumber"></span></td>
                        <td class="title"><a ui-sref="SearchMyView.DetailLicense({licenseId: license.licenseId})"><span ng-bind="license.licenseName"></span></a></td>

                        <td class="artists"><span ng-bind="license.artistRollup"></span></td>
                        <td class="licensee"><span ng-bind="license.licensee.name"></span></td>
                        <td class="method"><span ng-bind="license.licenseMethod.licenseMethod"></span></td>
                        <td class="config"><span ng-class="{'icon config-physical': license.licenseConfigurationRollup=='P', 'icon config-digital': license.licenseConfigurationRollup=='D', 'icon config-both': license.licenseConfigurationRollup=='B'}"></span></td>
                        <td class="created-by"><span ng-bind="license.contact2.fullName"></span></td>
                        <td class="type"><span ng-bind="license.licenseType.licenseType"></span></td>
                        <td class="status">
                            <span class="status-label">
                                <span ng-class="{'status-icon verifying': license.licenseStatus.licenseStatus=='Verifying', 'status-icon hold': license.licenseStatus.licenseStatus=='Hold', 'status-icon pending': license.licenseStatus.licenseStatus=='Pending', 'status-icon executed': license.licenseStatus.licenseStatus=='Executed', 'status-icon issued': license.licenseStatus.licenseStatus=='Issued', 'status-icon accepted': license.licenseStatus.licenseStatus=='Accepted', 'status-icon voided': license.licenseStatus.licenseStatus=='Voided', 'status-icon error': license.licenseStatus.licenseStatus=='Error'}">
                                </span>
                                <span ng-bind="license.licenseStatus.licenseStatus"></span>
                            </span>
                        </td>
                        <td class="created-date"><span ng-bind="license.createdDate | timezone | date:'MM/dd/yyyy'"></span></td>
                        <td class="modified-date"><span ng-bind="license.modifiedDate | timezone | date:'MM/dd/yyyy'"></span></td>
                        <td class="signed-date"><span ng-bind="license.signedDate | timezone | date:'MM/dd/yyyy'"></span></td>
                    </tr>
                </tbody>
            </table>
        </tab>
    </tabset>
</section><!-- End Product Details -->